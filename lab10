// 1va zadacha
#include <stdio.h>

void writeToFile() {
    FILE *f = fopen("text.txt", "w");
    char c;
    while((c = getchar()) != '#') {
        fputc(c, f);
    }
    fclose(f);
}

int main() {
    writeToFile();
    
     FILE * inputFile = fopen("text.txt", "r");

    char line;

    int smallLetter = 0, bigLetter = 0, letterCounter = 0;

   while((line = fgetc(inputFile)) != EOF) {
        if(isalpha(line)) {
            if(islower(line)) {
                smallLetter++;
            }
            if(isupper(line)) {
                bigLetter++;
            }
            letterCounter++;
        }
    }
    printf("%.4f\n%.4f", (float)bigLetter / letterCounter, (float)smallLetter / letterCounter);
    return 0;
}

// 2ra zadacha (samo mainot posle void writetofile)
FILE * inputFile = fopen("input.txt", "r");
    FILE * outputFile = fopen("output.txt", "w");
    
    int size;
    fscanf(inputFile, "%d", &size);
    int matrix[size][size];
    
    int i, j, sum = 0;
    
    for(i=0; i<size; i++) {
        for(j=0; j<size; j++) {
            fscanf(inputFile, "%d", &matrix[i][j]);
            if(i == j) {
                sum += matrix[i][j];
            }
        }
    }
    
    for(i=0; i<size; i++) {
        for(j=0; j<size; j++) {
            if(i < j) fprintf(outputFile, "%03d ", sum);
            else fprintf(outputFile, "    ");
        }
        fprintf(outputFile, "\n");
    }
    
    fclose(inputFile);
    fclose(outputFile);
    
    printFile();
        
    return 0;
    
    
    printFile();

// 3ta zadacha
#include <stdio.h>

void writeToFile() {
    FILE *f = fopen("text.txt", "w");
    char c;
    while((c = getchar()) != '#') {
        fputc(c, f);
    }
    fclose(f);
}

int main() {
    writeToFile();
    
    FILE * inputFile = fopen("text.txt", "r");
    
    char line[1000], longestLine[1000];
    
    int wordsCounter = 0, totalCounter = 0, numOfRows = 0, i, max = 0;
    
    while(fgets(line, 1000, inputFile) != NULL) {
        int length = strlen(line);
        for(i=0; i < length; i++) {
            if(line[i] == ' ' || line[i] == '\n') {
                wordsCounter++;
                totalCounter++;
            }
        }
        if (wordsCounter > max) {
            max = wordsCounter;
            strcpy(longestLine, line);
        }
        numOfRows++;
        printf("%d\n", wordsCounter);
        wordsCounter = 0;
    }
    
    printf("%.2f\n", (float)totalCounter/numOfRows);
    
    int longestLenght;
    longestLenght = strlen(longestLine);
    for (i=0; i<longestLenght; i++)
    {
        if (isupper(longestLine[i]))
            longestLine[i] = tolower(longestLine[i]);
        else if (islower(longestLine[i]))
            longestLine[i] = toupper(longestLine[i]);
    }
    printf("%s ", longestLine);
    
    fclose(inputFile);
        
    return 0;
}
